"use strict";function _createForOfIteratorHelper(e,t){var r,o,n,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return o=!(r=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==c.return||c.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(c=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var membersList=document.querySelector(".members__list"),todoLists=document.querySelectorAll(".todo__list"),membersBoard=document.querySelector(".members__board"),memberSelect=document.querySelector(".newtask__board select.member"),newtaskBoard=document.querySelector(".newtask__board"),addTaskBtn=document.querySelector(".addTask"),saveNewTaskBtn=document.querySelector(".save"),cancelNewTaskBtn=document.querySelector(".cancel"),newmemberBoard=document.querySelector(".newmember__board"),addMemberBtn=document.querySelector(".addMember"),newNameInput=document.querySelector(".newmember__name"),newColorSelect=document.querySelector(".select__color"),saveMember=document.querySelector(".saveMember"),cancelMember=document.querySelector(".cancelMember"),daySelect=document.querySelector(".day"),taskInput=document.querySelector(".task"),dayBoxes=document.querySelectorAll(".daybox"),showTaskCreator=function(){newtaskBoard.classList.add("show")},showMemberCreator=function(){newmemberBoard.classList.add("show")},checkColorAvailability=function(e){return-1===Array.from(document.querySelectorAll(".member__color")).map(function(e){return e.style.backgroundColor}).indexOf("rgb(".concat(e,")"))},clearInputs=function(){taskInput.value="",daySelect.value="",newNameInput.value="";var e,t=_createForOfIteratorHelper(document.getElementsByTagName("input"));try{for(t.s();!(e=t.n()).done;)e.value.value=""}catch(e){t.e(e)}finally{t.f()}},closeWindow=function(){newtaskBoard.classList.add("close"),newtaskBoard.classList.remove("show"),newmemberBoard.classList.add("close"),newmemberBoard.classList.remove("show")},createNewTask=function(){var e,t=daySelect.value,r=taskInput.value,o=memberSelect.value,n=memberSelect.options[memberSelect.selectedIndex].getAttribute("data-color");t&&r&&o&&(o="#day".concat(t),t=document.querySelector(o).querySelector(".todo__list"),(e=document.createElement("li")).classList.add("todo__list__item"),e.innerHTML='<img class="checkmark" src="./dist/img/icons/checkmark.png" alt=""> '.concat(r),e.style.background="#".concat(n),t.appendChild(e),e.addEventListener("click",function(){e.classList.toggle("done")}),clearInputs())},addNewFamilyMember=function(e,t){var r=document.querySelector(".member"),o=document.createElement("option");o.value=e,o.textContent=e,o.style.backgroundColor=t,r.appendChild(o)},saveNewMember=function(){var e,t,r,o,n=newNameInput.value.trim(),a=document.querySelector(".members__list"),c=document.querySelector(".select__color"),l=memberSelect.querySelectorAll("option");n?Array.from(l).find(function(e){return e.value.toLowerCase()===n.toLowerCase()})?alert("Member ".concat(n," already exists.")):(l=c.value.toLowerCase(),Array.from(document.querySelectorAll(".member__color")).map(function(e){return e.style.backgroundColor.substring(1).toLowerCase()}),checkColorAvailability(l)?((e=document.createElement("li")).classList.add("member"),(t=document.createElement("div")).classList.add("member__color"),t.style.backgroundColor="#"+l,(r=document.createElement("p")).innerHTML=n,o=Date.now().toString(36)+Math.random().toString(36).substr(2,5),e.setAttribute("id","member-".concat(o)),(o=document.createElement("option")).value=n,o.textContent=n,o.dataset.color=l,memberSelect.appendChild(o),e.appendChild(t),e.appendChild(r),a.appendChild(e),c.querySelector("option[value='".concat(l,"']")).setAttribute("disabled",!0),clearInputs(),closeWindow()):alert("Color ".concat(l," is already in use by another family member."))):newNameInput.placeholder="Please enter a name before you save"},saveTask=function(){createNewTask(),clearInputs(),closeWindow()};taskInput.addEventListener("keydown",function(e){"Enter"===e.key&&saveTask()}),addTaskBtn.addEventListener("click",showTaskCreator),cancelNewTaskBtn.addEventListener("click",closeWindow),saveNewTaskBtn.addEventListener("click",saveTask),addMemberBtn.addEventListener("click",showMemberCreator),cancelMember.addEventListener("click",closeWindow),saveMember.addEventListener("click",saveNewMember);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJtZW1iZXJzTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvZG9MaXN0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtZW1iZXJzQm9hcmQiLCJtZW1iZXJTZWxlY3QiLCJuZXd0YXNrQm9hcmQiLCJhZGRUYXNrQnRuIiwiY2FuY2VsTmV3VGFza0J0biIsIm5ld21lbWJlckJvYXJkIiwiYWRkTWVtYmVyQnRuIiwibmV3TmFtZUlucHV0IiwibmV3Q29sb3JTZWxlY3QiLCJzYXZlTWVtYmVyIiwiZGF5U2VsZWN0IiwidGFza0lucHV0IiwiZGF5Qm94ZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJzaG93TWVtYmVyQ3JlYXRvciIsImNoZWNrQ29sb3JBdmFpbGFiaWxpdHkiLCJjb2xvciIsImluZGV4T2YiLCJtYXAiLCJjbGVhcklucHV0cyIsInN0eWxlIiwiY29uY2F0IiwiaW5wdXRzIiwidmFsdWUiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzIiwibiIsImRvbmUiLCJpbnB1dCIsImVyciIsImUiLCJmIiwiY2xvc2VXaW5kb3ciLCJyZW1vdmUiLCJsaXN0SXRlbSIsInRhc2siLCJjcmVhdGVOZXdUYXNrIiwic2VsZWN0ZWREYXkiLCJzZWxlY3RlZEluZGV4IiwiZ2V0QXR0cmlidXRlIiwic2VsZWN0ZWRNZW1iZXIiLCJkYXlFbCIsImRheUlkIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImJhY2tncm91bmQiLCJzZWxlY3RlZENvbG9yIiwidG9kb0xpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwib3B0aW9uIiwidGV4dENvbnRlbnQiLCJuYW1lIiwiYmFja2dyb3VuZENvbG9yIiwic2VsZWN0Iiwic2F2ZU5ld01lbWJlciIsIm1lbWJlck5hbWUiLCJuZXdNZW1iZXJPcHRpb24iLCJtZW1iZXJTZWxlY3RPcHRpb25zIiwibmV3TWVtYmVyTmFtZSIsInBsYWNlaG9sZGVyIiwiQXJyYXkiLCJmaW5kIiwidG9Mb3dlckNhc2UiLCJhbGVydCIsImZyb20iLCJuZXdNZW1iZXIiLCJzdWJzdHJpbmciLCJtZW1iZXJJZCIsInRvU3RyaW5nIiwibWVtYmVyQ29sb3IiLCJhcHBlbmRDaGlsZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyIiwic2V0QXR0cmlidXRlIiwiZGF0YXNldCIsInNhdmVUYXNrIiwic2F2ZU5ld1Rhc2tCdG4iLCJjYW5jZWxNZW1iZXIiLCJldmVudCIsImtleSIsInNob3dUYXNrQ3JlYXRvciJdLCJtYXBwaW5ncyI6Im9vQ0FBQSxJQUFNQSxZQUFjQyxTQUFTQyxjQUFjLGdCQUFnQixFQUNyREMsVUFBWUYsU0FBU0csaUJBQWlCLGFBQWEsRUFFbkRDLGFBQWVKLFNBQVNDLGNBQWMsaUJBQWlCLEVBQ3ZESSxhQUFlTCxTQUFTQyxjQUFjLCtCQUErQixFQUhyRUMsYUFBWUYsU0FBU0csY0FBaUIsaUJBQWMsRUFFcERDLFdBQWVKLFNBQVNDLGNBQWMsVUFBQSxFQUd0Q0ssZUFBZU4sU0FBU0MsY0FBYyxPQUFBLEVBQ3RDTSxpQkFBcUJQLFNBQUNDLGNBQWMsU0FBVyxFQUcvQ08sZUFBbUJSLFNBQVNDLGNBQWMsbUJBQVUsRUFFcERRLGFBQWlCVCxTQUFTQyxjQUFjLFlBQUEsRUFDeENTLGFBQWVWLFNBQVNDLGNBQWMsa0JBQWEsRUFDbkRVLGVBQWVYLFNBQVNDLGNBQWMsZ0JBQW1CLEVBQ3pEVyxXQUFjWixTQUFHQSxjQUFTQyxhQUFjLEVBQ3hDWSxhQUFhYixTQUFTQyxjQUFjLGVBQWMsRUFHbERhLFVBQVlkLFNBQVNDLGNBQWMsTUFBTyxFQUMxQ2MsVUFBWWYsU0FBU0MsY0FBYyxPQUFRLEVBQzNDZSxTQUFXaEIsU0FBU0csaUJBQWlCLFNBQVUsRUFHcERHLGdCQUFzQixXQUN0QkEsYUFBQVcsVUFBQUMsSUFBQSxNQUFBLENBRUQsRUFFQ0Msa0JBQUEsV0FFRFYsZUFBTVcs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QWlCLFFBQVNoQixXQUFXLEVBQ3REZ0QsZUFBZWhDLGlCQUFpQixRQUFTK0IsUUFBUSxFQUVqRDdFLGFBQWE4QyxpQkFBaUIsUUFBU3JDLGlCQUFpQixFQUN4RHNFLGFBQWFqQyxpQkFBaUIsUUFBU2hCLFdBQVcsRUFDbEQzQixXQUFXMkMsaUJBQWlCLFFBQVNPLGFBQWEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1lbWJlcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW1iZXJzX19saXN0XCIpXG5jb25zdCB0b2RvTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvZG9fX2xpc3RcIilcblxuY29uc3QgbWVtYmVyc0JvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW1iZXJzX19ib2FyZFwiKVxuY29uc3QgbWVtYmVyU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXd0YXNrX19ib2FyZCBzZWxlY3QubWVtYmVyXCIpXG5cbmNvbnN0IG5ld3Rhc2tCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3dGFza19fYm9hcmRcIilcbmNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFRhc2tcIilcblxuY29uc3Qgc2F2ZU5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNhdmVcIilcbmNvbnN0IGNhbmNlbE5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbFwiKVxuXG5jb25zdCBuZXdtZW1iZXJCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3bWVtYmVyX19ib2FyZFwiKVxuY29uc3QgYWRkTWVtYmVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRNZW1iZXJcIilcbmNvbnN0IG5ld05hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3bWVtYmVyX19uYW1lXCIpXG5jb25zdCBuZXdDb2xvclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0X19jb2xvclwiKVxuY29uc3Qgc2F2ZU1lbWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2F2ZU1lbWJlclwiKVxuY29uc3QgY2FuY2VsTWVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxNZW1iZXJcIilcblxuY29uc3QgZGF5U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXlcIilcbmNvbnN0IHRhc2tJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza1wiKVxuY29uc3QgZGF5Qm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRheWJveFwiKVxuXG5jb25zdCBzaG93VGFza0NyZWF0b3IgPSAoKSA9PiB7XG5cdG5ld3Rhc2tCb2FyZC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKVxufVxuXG5jb25zdCBzaG93TWVtYmVyQ3JlYXRvciA9ICgpID0+IHtcblx0bmV3bWVtYmVyQm9hcmQuY2xhc3NMaXN0LmFkZChcInNob3dcIilcbn1cblxuY29uc3QgY2hlY2tDb2xvckF2YWlsYWJpbGl0eSA9IGNvbG9yID0+IHtcblx0Y29uc3QgbWVtYmVyQ29sb3JzID0gQXJyYXkuZnJvbShcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbWJlcl9fY29sb3JcIilcblx0KS5tYXAoY29sb3IgPT4gY29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yKVxuXHRyZXR1cm4gbWVtYmVyQ29sb3JzLmluZGV4T2YoYHJnYigke2NvbG9yfSlgKSA9PT0gLTFcbn1cblxuY29uc3QgY2xlYXJJbnB1dHMgPSAoKSA9PiB7XG5cdHRhc2tJbnB1dC52YWx1ZSA9IFwiXCJcblx0ZGF5U2VsZWN0LnZhbHVlID0gXCJcIlxuXHRuZXdOYW1lSW5wdXQudmFsdWUgPSBcIlwiXG5cdGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIilcblx0Zm9yIChsZXQgaW5wdXQgb2YgaW5wdXRzKSB7XG5cdFx0aW5wdXQudmFsdWUgPSBcIlwiXG5cdH1cbn1cblxuY29uc3QgY2xvc2VXaW5kb3cgPSAoKSA9PiB7XG5cdG5ld3Rhc2tCb2FyZC5jbGFzc0xpc3QuYWRkKFwiY2xvc2VcIilcblx0bmV3dGFza0JvYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpXG5cdG5ld21lbWJlckJvYXJkLmNsYXNzTGlzdC5hZGQoXCJjbG9zZVwiKVxuXHRuZXdtZW1iZXJCb2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKVxufVxuXG5jb25zdCBjcmVhdGVOZXdUYXNrID0gKCkgPT4ge1xuXHRjb25zdCBzZWxlY3RlZERheSA9IGRheVNlbGVjdC52YWx1ZVxuXHRjb25zdCB0YXNrID0gdGFza0lucHV0LnZhbHVlXG5cdGNvbnN0IHNlbGVjdGVkTWVtYmVyID0gbWVtYmVyU2VsZWN0LnZhbHVlXG5cdGNvbnN0IHNlbGVjdGVkQ29sb3IgPVxuXHRcdG1lbWJlclNlbGVjdC5vcHRpb25zW21lbWJlclNlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbG9yXCIpXG5cblx0aWYgKHNlbGVjdGVkRGF5ICYmIHRhc2sgJiYgc2VsZWN0ZWRNZW1iZXIpIHtcblx0XHRjb25zdCBkYXlJZCA9IGAjZGF5JHtzZWxlY3RlZERheX1gXG5cdFx0Y29uc3QgZGF5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRheUlkKVxuXHRcdGNvbnN0IHRvZG9MaXN0ID0gZGF5RWwucXVlcnlTZWxlY3RvcihcIi50b2RvX19saXN0XCIpXG5cblx0XHRjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxuXHRcdGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoXCJ0b2RvX19saXN0X19pdGVtXCIpXG5cdFx0bGlzdEl0ZW0uaW5uZXJIVE1MID0gYDxpbWcgY2xhc3M9XCJjaGVja21hcmtcIiBzcmM9XCIuL2Rpc3QvaW1nL2ljb25zL2NoZWNrbWFyay5wbmdcIiBhbHQ9XCJcIj4gJHt0YXNrfWBcblx0XHRsaXN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYCMke3NlbGVjdGVkQ29sb3J9YFxuXG5cdFx0dG9kb0xpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pXG5cdFx0bGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGxpc3RJdGVtLmNsYXNzTGlzdC50b2dnbGUoXCJkb25lXCIpXG5cdFx0fSlcblx0XHRjbGVhcklucHV0cygpXG5cdH1cbn1cblxuY29uc3QgYWRkTmV3RmFtaWx5TWVtYmVyID0gKG5hbWUsIGNvbG9yKSA9PiB7XG5cdGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVtYmVyXCIpXG5cdGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcblx0b3B0aW9uLnZhbHVlID0gbmFtZVxuXHRvcHRpb24udGV4dENvbnRlbnQgPSBuYW1lXG5cdG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclxuXHRzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKVxufVxuXG5jb25zdCBzYXZlTmV3TWVtYmVyID0gKCkgPT4ge1xuXHRjb25zdCBuZXdNZW1iZXJOYW1lID0gbmV3TmFtZUlucHV0LnZhbHVlLnRyaW0oKVxuXHRjb25zdCBtZW1iZXJzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVtYmVyc19fbGlzdFwiKVxuXHRjb25zdCBuZXdDb2xvclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0X19jb2xvclwiKVxuXHRjb25zdCBtZW1iZXJTZWxlY3RPcHRpb25zID0gbWVtYmVyU2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJvcHRpb25cIilcblxuXHRpZiAoIW5ld01lbWJlck5hbWUpIHtcblx0XHRuZXdOYW1lSW5wdXQucGxhY2Vob2xkZXIgPSBcIlBsZWFzZSBlbnRlciBhIG5hbWUgYmVmb3JlIHlvdSBzYXZlXCJcblx0XHRyZXR1cm5cblx0fVxuXG5cdC8vIHNwcmF3ZMW6LCBjenkgaXN0bmllamUganXFvCBvcGNqYSB6IGRhbnltIGltaWVuaWVtXG5cdGNvbnN0IGV4aXN0aW5nT3B0aW9uID0gQXJyYXkuZnJvbShtZW1iZXJTZWxlY3RPcHRpb25zKS5maW5kKFxuXHRcdG9wdGlvbiA9PiBvcHRpb24udmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gbmV3TWVtYmVyTmFtZS50b0xvd2VyQ2FzZSgpXG5cdClcblxuXHRpZiAoZXhpc3RpbmdPcHRpb24pIHtcblx0XHRhbGVydChgTWVtYmVyICR7bmV3TWVtYmVyTmFtZX0gYWxyZWFkeSBleGlzdHMuYClcblx0XHRyZXR1cm5cblx0fVxuXG5cdC8vIHNwcmF3ZMW6LCBjenkgd3licmFueSBrb2xvciBqZXN0IGp1xbwgdcW8eXdhbnkgcHJ6ZXogaW5uZWdvIGN6xYJvbmthIHJvZHppbnlcblx0Y29uc3Qgc2VsZWN0ZWRDb2xvciA9IG5ld0NvbG9yU2VsZWN0LnZhbHVlLnRvTG93ZXJDYXNlKClcblx0Y29uc3QgbWVtYmVyQ29sb3JzID0gQXJyYXkuZnJvbShcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbWJlcl9fY29sb3JcIilcblx0KS5tYXAoY29sb3IgPT4gY29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpKVxuXHRpZiAoIWNoZWNrQ29sb3JBdmFpbGFiaWxpdHkoc2VsZWN0ZWRDb2xvcikpIHtcblx0XHRhbGVydChgQ29sb3IgJHtzZWxlY3RlZENvbG9yfSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGZhbWlseSBtZW1iZXIuYClcblx0XHRyZXR1cm5cblx0fVxuXG5cdGNvbnN0IG5ld01lbWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxuXHRuZXdNZW1iZXIuY2xhc3NMaXN0LmFkZChcIm1lbWJlclwiKVxuXG5cdGNvbnN0IG1lbWJlckNvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRtZW1iZXJDb2xvci5jbGFzc0xpc3QuYWRkKFwibWVtYmVyX19jb2xvclwiKVxuXHRtZW1iZXJDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNcIiArIHNlbGVjdGVkQ29sb3JcblxuXHRjb25zdCBtZW1iZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcblx0bWVtYmVyTmFtZS5pbm5lckhUTUwgPSBuZXdNZW1iZXJOYW1lXG5cblx0Y29uc3QgbWVtYmVySWQgPVxuXHRcdERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDUpXG5cdG5ld01lbWJlci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgbWVtYmVyLSR7bWVtYmVySWR9YClcblxuXHRjb25zdCBuZXdNZW1iZXJPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpXG5cdG5ld01lbWJlck9wdGlvbi52YWx1ZSA9IG5ld01lbWJlck5hbWVcblx0bmV3TWVtYmVyT3B0aW9uLnRleHRDb250ZW50ID0gbmV3TWVtYmVyTmFtZVxuXHRuZXdNZW1iZXJPcHRpb24uZGF0YXNldC5jb2xvciA9IHNlbGVjdGVkQ29sb3Jcblx0bWVtYmVyU2VsZWN0LmFwcGVuZENoaWxkKG5ld01lbWJlck9wdGlvbilcblxuXHRuZXdNZW1iZXIuYXBwZW5kQ2hpbGQobWVtYmVyQ29sb3IpXG5cdG5ld01lbWJlci5hcHBlbmRDaGlsZChtZW1iZXJOYW1lKVxuXHRtZW1iZXJzTGlzdC5hcHBlbmRDaGlsZChuZXdNZW1iZXIpXG5cblx0Ly8gRG9kYWplbXkgYXRyeWJ1dCAnZGlzYWJsZWQnIGRvIG9wY2ppIHd5Ym9ydSBrb2xvcnUgZGxhIHd5YnJhbmVnbyBjesWCb25rYSByb2R6aW55XG5cdG5ld0NvbG9yU2VsZWN0XG5cdFx0LnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT0nJHtzZWxlY3RlZENvbG9yfSddYClcblx0XHQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcblxuXHRjbGVhcklucHV0cygpXG5cdGNsb3NlV2luZG93KClcbn1cblxuY29uc3Qgc2F2ZVRhc2sgPSAoKSA9PiB7XG5cdGNyZWF0ZU5ld1Rhc2soKVxuXHRjbGVhcklucHV0cygpXG5cdGNsb3NlV2luZG93KClcbn1cbnRhc2tJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudCA9PiB7XG5cdGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuXHRcdHNhdmVUYXNrKClcblx0fVxufSlcblxuXG5hZGRUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93VGFza0NyZWF0b3IpXG5jYW5jZWxOZXdUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVdpbmRvdylcbnNhdmVOZXdUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzYXZlVGFzaylcblxuYWRkTWVtYmVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93TWVtYmVyQ3JlYXRvcilcbmNhbmNlbE1lbWJlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VXaW5kb3cpXG5zYXZlTWVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzYXZlTmV3TWVtYmVyKVxuIl19
