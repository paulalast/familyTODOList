"use strict";function _createForOfIteratorHelper(e,t){var r,o,n,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return o=!(r=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==c.return||c.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(c=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var membersList=document.querySelector(".members__list"),todoLists=document.querySelectorAll(".todo__list"),membersBoard=document.querySelector(".members__board"),memberSelect=document.querySelector(".newtask__board select.member"),newtaskBoard=document.querySelector(".newtask__board"),addTaskBtn=document.querySelector(".addTask"),saveNewTaskBtn=document.querySelector(".save"),cancelNewTaskBtn=document.querySelector(".cancel"),newmemberBoard=document.querySelector(".newmember__board"),addMemberBtn=document.querySelector(".addMember"),newNameInput=document.querySelector(".newmember__name"),newColorSelect=document.querySelector(".select__color"),saveMember=document.querySelector(".saveMember"),cancelMember=document.querySelector(".cancelMember"),daySelect=document.querySelector(".day"),taskInput=document.querySelector(".task"),dayBoxes=document.querySelectorAll(".daybox"),showTaskCreator=function(){newtaskBoard.classList.add("show")},showMemberCreator=function(){newmemberBoard.classList.add("show")},checkColorAvailability=function(e){return-1===Array.from(document.querySelectorAll(".member__color")).map(function(e){return e.style.backgroundColor}).indexOf("rgb(".concat(e,")"))},clearInputs=function(){taskInput.value="",daySelect.value="",newNameInput.value="";var e,t=_createForOfIteratorHelper(document.getElementsByTagName("input"));try{for(t.s();!(e=t.n()).done;)e.value.value=""}catch(e){t.e(e)}finally{t.f()}},closeWindow=function(){newtaskBoard.classList.add("close"),newtaskBoard.classList.remove("show"),newmemberBoard.classList.add("close"),newmemberBoard.classList.remove("show")},createNewTask=function(){var e=daySelect.value,t=taskInput.value,r=memberSelect.value,o=memberSelect.options[memberSelect.selectedIndex].getAttribute("data-color");e&&t&&r&&(r="#day".concat(e),e=document.querySelector(r).querySelector(".todo__list"),(r=document.createElement("li")).classList.add("todo__list__item"),r.innerHTML='<img class="checkmark" src="./dist/img/icons/checkmark.png" alt=""> '.concat(t),r.style.background="#".concat(o),e.appendChild(r),clearInputs())},addNewFamilyMember=function(e,t){var r=document.querySelector(".member"),o=document.createElement("option");o.value=e,o.textContent=e,o.style.backgroundColor=t,r.appendChild(o)},saveNewMember=function(){var e,t,r,o,n=newNameInput.value.trim(),a=document.querySelector(".members__list"),c=document.querySelector(".select__color"),l=memberSelect.querySelectorAll("option");n?Array.from(l).find(function(e){return e.value.toLowerCase()===n.toLowerCase()})?alert("Member ".concat(n," already exists.")):(l=c.value.toLowerCase(),Array.from(document.querySelectorAll(".member__color")).map(function(e){return e.style.backgroundColor.substring(1).toLowerCase()}),checkColorAvailability(l)?((e=document.createElement("li")).classList.add("member"),(t=document.createElement("div")).classList.add("member__color"),t.style.backgroundColor="#"+l,(r=document.createElement("p")).innerHTML=n,o=Date.now().toString(36)+Math.random().toString(36).substr(2,5),e.setAttribute("id","member-".concat(o)),(o=document.createElement("option")).value=n,o.textContent=n,o.dataset.color=l,memberSelect.appendChild(o),e.appendChild(t),e.appendChild(r),a.appendChild(e),c.querySelector("option[value='".concat(l,"']")).setAttribute("disabled",!0),clearInputs(),closeWindow()):alert("Color ".concat(l," is already in use by another family member."))):newNameInput.placeholder="Please enter a name before you save"},saveTask=function(){createNewTask(),clearInputs(),closeWindow()};addTaskBtn.addEventListener("click",showTaskCreator),cancelNewTaskBtn.addEventListener("click",closeWindow),saveNewTaskBtn.addEventListener("click",saveTask),addMemberBtn.addEventListener("click",showMemberCreator),cancelMember.addEventListener("click",closeWindow),saveMember.addEventListener("click",saveNewMember);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJtZW1iZXJzTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvZG9MaXN0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtZW1iZXJzQm9hcmQiLCJtZW1iZXJTZWxlY3QiLCJuZXd0YXNrQm9hcmQiLCJhZGRUYXNrQnRuIiwiY2FuY2VsTmV3VGFza0J0biIsIm5ld21lbWJlckJvYXJkIiwiYWRkTWVtYmVyQnRuIiwibmV3TmFtZUlucHV0IiwibmV3Q29sb3JTZWxlY3QiLCJzYXZlTWVtYmVyIiwiZGF5U2VsZWN0IiwidGFza0lucHV0IiwiZGF5Qm94ZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJzaG93TWVtYmVyQ3JlYXRvciIsImNoZWNrQ29sb3JBdmFpbGFiaWxpdHkiLCJjb2xvciIsImluZGV4T2YiLCJtYXAiLCJjbGVhcklucHV0cyIsInN0eWxlIiwiY29uY2F0IiwiaW5wdXRzIiwidmFsdWUiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzIiwibiIsImRvbmUiLCJpbnB1dCIsImVyciIsImUiLCJmIiwiY2xvc2VXaW5kb3ciLCJyZW1vdmUiLCJ0YXNrIiwiY3JlYXRlTmV3VGFzayIsInNlbGVjdGVkRGF5Iiwic2VsZWN0ZWRJbmRleCIsImdldEF0dHJpYnV0ZSIsInNlbGVjdGVkTWVtYmVyIiwiZGF5RWwiLCJkYXlJZCIsImxpc3RJdGVtIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImJhY2tncm91bmQiLCJzZWxlY3RlZENvbG9yIiwidG9kb0xpc3QiLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzZWxlY3QiLCJhcHBlbmRDaGlsZCIsIm1lbWJlck5hbWUiLCJuZXdNZW1iZXIiLCJuZXdNZW1iZXJPcHRpb24iLCJtZW1iZXJTZWxlY3RPcHRpb25zIiwibmV3TWVtYmVyTmFtZSIsIkFycmF5IiwiZnJvbSIsImZpbmQiLCJhbGVydCIsInRvTG93ZXJDYXNlIiwic3Vic3RyaW5nIiwic2V0QXR0cmlidXRlIiwibWVtYmVySWQiLCJtZW1iZXJDb2xvciIsImRhdGFzZXQiLCJ0b1N0cmluZyIsInN1YnN0ciIsInNhdmVUYXNrIiwic2F2ZU5ld1Rhc2tCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiY2FuY2VsTWVtYmVyIiwicGxhY2Vob2xkZXIiLCJzaG93VGFza0NyZWF0b3IiLCJzYXZlTmV3TWVtYmVyIl0sIm1hcHBpbmdzIjoib29DQUFBLElBQU1BLFlBQWNDLFNBQVNDLGNBQWMsZ0JBQWdCLEVBQ3JEQyxVQUFZRixTQUFTRyxpQkFBaUIsYUFBYSxFQUVuREMsYUFBZUosU0FBU0MsY0FBYyxpQkFBaUIsRUFDdkRJLGFBQWVMLFNBQVNDLGNBQWMsK0JBQStCLEVBSHJFQyxhQUFZRixTQUFTRyxjQUFpQixpQkFBYyxFQUVwREMsV0FBZUosU0FBU0MsY0FBYyxVQUFBLEVBR3RDSyxlQUFlTixTQUFTQyxjQUFjLE9BQUEsRUFDdENNLGlCQUFxQlAsU0FBQ0MsY0FBYyxTQUFXLEVBRy9DTyxlQUFtQlIsU0FBU0MsY0FBYyxtQkFBVSxFQUVwRFEsYUFBaUJULFNBQVNDLGNBQWMsWUFBQSxFQUN4Q1MsYUFBZVYsU0FBU0MsY0FBYyxrQkFBYSxFQUNuRFUsZUFBZVgsU0FBU0MsY0FBYyxnQkFBbUIsRUFDekRXLFdBQWNaLFNBQUdBLGNBQVNDLGFBQWMsRUFDeENZLGFBQWFiLFNBQVNDLGNBQWMsZUFBYyxFQUdsRGEsVUFBWWQsU0FBU0MsY0FBYyxNQUFPLEVBQzFDYyxVQUFZZixTQUFTQyxjQUFjLE9BQVEsRUFDM0NlLFNBQVdoQixTQUFTRyxpQkFBaUIsU0FBVSxFQUdwREcsZ0JBQXNCLFdBQ3RCQSxhQUFBVyxVQUFBQyxJQUFBLE1BQUEsQ0FFRCxFQUVDQyxrQkFBQSxXQUVEVixlQUFNVyxVQUFzQkYsSUFBRyxNQUFBLENBRi9CLEVBSzRDRSx1QkFBQSxTQUFBQyxHQUMzQyxNQUlv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WyJjb25zdCBtZW1iZXJzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVtYmVyc19fbGlzdFwiKVxuY29uc3QgdG9kb0xpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b2RvX19saXN0XCIpXG5cbmNvbnN0IG1lbWJlcnNCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVtYmVyc19fYm9hcmRcIilcbmNvbnN0IG1lbWJlclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3dGFza19fYm9hcmQgc2VsZWN0Lm1lbWJlclwiKVxuXG5jb25zdCBuZXd0YXNrQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld3Rhc2tfX2JvYXJkXCIpXG5jb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRUYXNrXCIpXG5cbmNvbnN0IHNhdmVOZXdUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zYXZlXCIpXG5jb25zdCBjYW5jZWxOZXdUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxcIilcblxuY29uc3QgbmV3bWVtYmVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld21lbWJlcl9fYm9hcmRcIilcbmNvbnN0IGFkZE1lbWJlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkTWVtYmVyXCIpXG5jb25zdCBuZXdOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld21lbWJlcl9fbmFtZVwiKVxuY29uc3QgbmV3Q29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdF9fY29sb3JcIilcbmNvbnN0IHNhdmVNZW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNhdmVNZW1iZXJcIilcbmNvbnN0IGNhbmNlbE1lbWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FuY2VsTWVtYmVyXCIpXG5cbmNvbnN0IGRheVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGF5XCIpXG5jb25zdCB0YXNrSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tcIilcbmNvbnN0IGRheUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kYXlib3hcIilcblxuY29uc3Qgc2hvd1Rhc2tDcmVhdG9yID0gKCkgPT4ge1xuXHRuZXd0YXNrQm9hcmQuY2xhc3NMaXN0LmFkZChcInNob3dcIilcbn1cblxuY29uc3Qgc2hvd01lbWJlckNyZWF0b3IgPSAoKSA9PiB7XG5cdG5ld21lbWJlckJvYXJkLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpXG59XG5cbmNvbnN0IGNoZWNrQ29sb3JBdmFpbGFiaWxpdHkgPSBjb2xvciA9PiB7XG5cdGNvbnN0IG1lbWJlckNvbG9ycyA9IEFycmF5LmZyb20oXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW1iZXJfX2NvbG9yXCIpXG5cdCkubWFwKGNvbG9yID0+IGNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvcilcblx0cmV0dXJuIG1lbWJlckNvbG9ycy5pbmRleE9mKGByZ2IoJHtjb2xvcn0pYCkgPT09IC0xXG59XG5cbmNvbnN0IGNsZWFySW5wdXRzID0gKCkgPT4ge1xuXHR0YXNrSW5wdXQudmFsdWUgPSBcIlwiXG5cdGRheVNlbGVjdC52YWx1ZSA9IFwiXCJcblx0bmV3TmFtZUlucHV0LnZhbHVlID0gXCJcIlxuXHRjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpXG5cdGZvciAobGV0IGlucHV0IG9mIGlucHV0cykge1xuXHRcdGlucHV0LnZhbHVlID0gXCJcIlxuXHR9XG59XG5cbmNvbnN0IGNsb3NlV2luZG93ID0gKCkgPT4ge1xuXHRuZXd0YXNrQm9hcmQuY2xhc3NMaXN0LmFkZChcImNsb3NlXCIpXG5cdG5ld3Rhc2tCb2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKVxuXHRuZXdtZW1iZXJCb2FyZC5jbGFzc0xpc3QuYWRkKFwiY2xvc2VcIilcblx0bmV3bWVtYmVyQm9hcmQuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIilcbn1cblxuY29uc3QgY3JlYXRlTmV3VGFzayA9ICgpID0+IHtcblx0Y29uc3Qgc2VsZWN0ZWREYXkgPSBkYXlTZWxlY3QudmFsdWVcblx0Y29uc3QgdGFzayA9IHRhc2tJbnB1dC52YWx1ZVxuXHRjb25zdCBzZWxlY3RlZE1lbWJlciA9IG1lbWJlclNlbGVjdC52YWx1ZVxuXHRjb25zdCBzZWxlY3RlZENvbG9yID1cblx0XHRtZW1iZXJTZWxlY3Qub3B0aW9uc1ttZW1iZXJTZWxlY3Quc2VsZWN0ZWRJbmRleF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1jb2xvclwiKVxuXG5cdGlmIChzZWxlY3RlZERheSAmJiB0YXNrICYmIHNlbGVjdGVkTWVtYmVyKSB7XG5cdFx0Y29uc3QgZGF5SWQgPSBgI2RheSR7c2VsZWN0ZWREYXl9YFxuXHRcdGNvbnN0IGRheUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXlJZClcblx0XHRjb25zdCB0b2RvTGlzdCA9IGRheUVsLnF1ZXJ5U2VsZWN0b3IoXCIudG9kb19fbGlzdFwiKVxuXG5cdFx0Y29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIilcblx0XHRsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwidG9kb19fbGlzdF9faXRlbVwiKVxuXHRcdGxpc3RJdGVtLmlubmVySFRNTCA9IGA8aW1nIGNsYXNzPVwiY2hlY2ttYXJrXCIgc3JjPVwiLi9kaXN0L2ltZy9pY29ucy9jaGVja21hcmsucG5nXCIgYWx0PVwiXCI+ICR7dGFza31gXG5cdFx0bGlzdEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGAjJHtzZWxlY3RlZENvbG9yfWBcblxuXHRcdHRvZG9MaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKVxuXHRcdGNsZWFySW5wdXRzKClcblx0fVxufVxuXG5jb25zdCBhZGROZXdGYW1pbHlNZW1iZXIgPSAobmFtZSwgY29sb3IpID0+IHtcblx0Y29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW1iZXJcIilcblx0Y29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuXHRvcHRpb24udmFsdWUgPSBuYW1lXG5cdG9wdGlvbi50ZXh0Q29udGVudCA9IG5hbWVcblx0b3B0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yXG5cdHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pXG59XG5cbi8vIGNvbnN0IHNhdmVOZXdNZW1iZXIgPSAoKSA9PiB7XG4vLyBcdGNvbnN0IG5ld01lbWJlck5hbWUgPSBuZXdOYW1lSW5wdXQudmFsdWUudHJpbSgpXG4vLyBcdGNvbnN0IG1lbWJlcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW1iZXJzX19saXN0XCIpXG4vLyBcdGNvbnN0IG5ld0NvbG9yU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RfX2NvbG9yXCIpXG4vLyBcdGNvbnN0IG1lbWJlclNlbGVjdE9wdGlvbnMgPSBtZW1iZXJTZWxlY3QucXVlcnlTZWxlY3RvckFsbChcIm9wdGlvblwiKVxuXG4vLyBcdGlmICghbmV3TWVtYmVyTmFtZSkge1xuLy8gXHRcdG5ld05hbWVJbnB1dC5wbGFjZWhvbGRlciA9IFwiUGxlYXNlIGVudGVyIGEgbmFtZSBiZWZvcmUgeW91IHNhdmVcIlxuLy8gXHRcdHJldHVyblxuLy8gXHR9XG5cbi8vIFx0Ly8gc3ByYXdkxbosIGN6eSBpc3RuaWVqZSBqdcW8IG9wY2phIHogZGFueW0gaW1pZW5pZW1cbi8vIFx0Y29uc3QgZXhpc3RpbmdPcHRpb24gPSBBcnJheS5mcm9tKG1lbWJlclNlbGVjdE9wdGlvbnMpLmZpbmQoXG4vLyBcdFx0b3B0aW9uID0+IG9wdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBuZXdNZW1iZXJOYW1lLnRvTG93ZXJDYXNlKClcbi8vIFx0KVxuXG4vLyBcdGlmIChleGlzdGluZ09wdGlvbikge1xuLy8gXHRcdGFsZXJ0KGBNZW1iZXIgJHtuZXdNZW1iZXJOYW1lfSBhbHJlYWR5IGV4aXN0cy5gKVxuLy8gXHRcdHJldHVyblxuLy8gXHR9XG5cbi8vIFx0Y29uc3QgbmV3TWVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG4vLyBcdG5ld01lbWJlci5jbGFzc0xpc3QuYWRkKFwibWVtYmVyXCIpXG5cbi8vIFx0Y29uc3QgbWVtYmVyQ29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4vLyBcdG1lbWJlckNvbG9yLmNsYXNzTGlzdC5hZGQoXCJtZW1iZXJfX2NvbG9yXCIpXG4vLyBcdGNvbnN0IHNlbGVjdGVkQ29sb3IgPSBuZXdDb2xvclNlbGVjdC52YWx1ZVxuLy8gXHRtZW1iZXJDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNcIiArIHNlbGVjdGVkQ29sb3JcblxuLy8gXHRjb25zdCBtZW1iZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbi8vIFx0bWVtYmVyTmFtZS5pbm5lckhUTUwgPSBuZXdNZW1iZXJOYW1lXG5cbi8vIFx0Y29uc3QgbWVtYmVySWQgPVxuLy8gXHRcdERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDUpXG4vLyBcdG5ld01lbWJlci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgbWVtYmVyLSR7bWVtYmVySWR9YClcblxuLy8gXHRjb25zdCBuZXdNZW1iZXJPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpXG4vLyBcdG5ld01lbWJlck9wdGlvbi52YWx1ZSA9IG5ld01lbWJlck5hbWVcbi8vIFx0bmV3TWVtYmVyT3B0aW9uLnRleHRDb250ZW50ID0gbmV3TWVtYmVyTmFtZVxuLy8gXHRuZXdNZW1iZXJPcHRpb24uZGF0YXNldC5jb2xvciA9IHNlbGVjdGVkQ29sb3Jcbi8vIFx0bWVtYmVyU2VsZWN0LmFwcGVuZENoaWxkKG5ld01lbWJlck9wdGlvbilcblxuLy8gXHRuZXdNZW1iZXIuYXBwZW5kQ2hpbGQobWVtYmVyQ29sb3IpXG4vLyBcdG5ld01lbWJlci5hcHBlbmRDaGlsZChtZW1iZXJOYW1lKVxuLy8gXHRtZW1iZXJzTGlzdC5hcHBlbmRDaGlsZChuZXdNZW1iZXIpXG4vLyBcdG5ld01lbWJlck9wdGlvbi5kYXRhc2V0LmNvbG9yID0gc2VsZWN0ZWRDb2xvclxuXG4vLyBcdGNsZWFySW5wdXRzKClcbi8vIFx0Y2xvc2VXaW5kb3coKVxuLy8gfVxuLy8gY29uc3Qgc2F2ZU5ld01lbWJlciA9ICgpID0+IHtcbi8vIFx0Y29uc3QgbmV3TWVtYmVyTmFtZSA9IG5ld05hbWVJbnB1dC52YWx1ZS50cmltKClcbi8vIFx0Y29uc3QgbWVtYmVyc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbWJlcnNfX2xpc3RcIilcbi8vIFx0Y29uc3QgbmV3Q29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdF9fY29sb3JcIilcbi8vIFx0Y29uc3QgbWVtYmVyU2VsZWN0T3B0aW9ucyA9IG1lbWJlclNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKFwib3B0aW9uXCIpXG5cbi8vIFx0aWYgKCFuZXdNZW1iZXJOYW1lKSB7XG4vLyBcdFx0bmV3TmFtZUlucHV0LnBsYWNlaG9sZGVyID0gXCJQbGVhc2UgZW50ZXIgYSBuYW1lIGJlZm9yZSB5b3Ugc2F2ZVwiXG4vLyBcdFx0cmV0dXJuXG4vLyBcdH1cblxuLy8gXHQvLyBzcHJhd2TFuiwgY3p5IGlzdG5pZWplIGp1xbwgb3BjamEgeiBkYW55bSBpbWllbmllbVxuLy8gXHRjb25zdCBleGlzdGluZ09wdGlvbiA9IEFycmF5LmZyb20obWVtYmVyU2VsZWN0T3B0aW9ucykuZmluZChcbi8vIFx0XHRvcHRpb24gPT4gb3B0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IG5ld01lbWJlck5hbWUudG9Mb3dlckNhc2UoKVxuLy8gXHQpXG5cbi8vIFx0aWYgKGV4aXN0aW5nT3B0aW9uKSB7XG4vLyBcdFx0YWxlcnQoYE1lbWJlciAke25ld01lbWJlck5hbWV9IGFscmVhZHkgZXhpc3RzLmApXG4vLyBcdFx0cmV0dXJuXG4vLyBcdH1cblxuLy8gXHQvLyBzcHJhd2TFuiwgY3p5IHd5YnJhbnkga29sb3IgamVzdCBqdcW8IHXFvHl3YW55IHByemV6IGlubmVnbyBjesWCb25rYSByb2R6aW55XG4vLyBcdGlmICghY2hlY2tDb2xvckF2YWlsYWJpbGl0eShuZXdDb2xvclNlbGVjdC52YWx1ZSkpIHtcbi8vIFx0XHRhbGVydChcbi8vIFx0XHRcdGBDb2xvciAke25ld0NvbG9yU2VsZWN0LnZhbHVlfSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGZhbWlseSBtZW1iZXIuYFxuLy8gXHRcdClcbi8vIFx0XHRyZXR1cm5cbi8vIFx0fVxuXG4vLyBcdGNvbnN0IG5ld01lbWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxuLy8gXHRuZXdNZW1iZXIuY2xhc3NMaXN0LmFkZChcIm1lbWJlclwiKVxuXG4vLyBcdGNvbnN0IG1lbWJlckNvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuLy8gXHRtZW1iZXJDb2xvci5jbGFzc0xpc3QuYWRkKFwibWVtYmVyX19jb2xvclwiKVxuLy8gXHRjb25zdCBzZWxlY3RlZENvbG9yID0gbmV3Q29sb3JTZWxlY3QudmFsdWVcbi8vIFx0bWVtYmVyQ29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjXCIgKyBzZWxlY3RlZENvbG9yXG5cbi8vIFx0Y29uc3QgbWVtYmVyTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXG4vLyBcdG1lbWJlck5hbWUuaW5uZXJIVE1MID0gbmV3TWVtYmVyTmFtZVxuXG4vLyBcdGNvbnN0IG1lbWJlcklkID1cbi8vIFx0XHREYXRlLm5vdygpLnRvU3RyaW5nKDM2KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KVxuLy8gXHRuZXdNZW1iZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgYG1lbWJlci0ke21lbWJlcklkfWApXG5cbi8vIFx0Y29uc3QgbmV3TWVtYmVyT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuLy8gXHRuZXdNZW1iZXJPcHRpb24udmFsdWUgPSBuZXdNZW1iZXJOYW1lXG4vLyBcdG5ld01lbWJlck9wdGlvbi50ZXh0Q29udGVudCA9IG5ld01lbWJlck5hbWVcbi8vIFx0bmV3TWVtYmVyT3B0aW9uLmRhdGFzZXQuY29sb3IgPSBzZWxlY3RlZENvbG9yXG4vLyBcdG1lbWJlclNlbGVjdC5hcHBlbmRDaGlsZChuZXdNZW1iZXJPcHRpb24pXG5cbi8vIFx0bmV3TWVtYmVyLmFwcGVuZENoaWxkKG1lbWJlckNvbG9yKVxuLy8gXHRuZXdNZW1iZXIuYXBwZW5kQ2hpbGQobWVtYmVyTmFtZSlcbi8vIFx0bWVtYmVyc0xpc3QuYXBwZW5kQ2hpbGQobmV3TWVtYmVyKVxuLy8gXHRuZXdNZW1iZXJPcHRpb24uZGF0YXNldC5jb2xvciA9IHNlbGVjdGVkQ29sb3JcblxuLy8gXHRjbGVhcklucHV0cygpXG4vLyBcdGNsb3NlV2luZG93KClcbi8vIH1cblxuLy8gY29uc3Qgc2F2ZU5ld01lbWJlciA9ICgpID0+IHtcbi8vIFx0Y29uc3QgbmV3TWVtYmVyTmFtZSA9IG5ld05hbWVJbnB1dC52YWx1ZS50cmltKClcbi8vIFx0Y29uc3QgbWVtYmVyc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbWJlcnNfX2xpc3RcIilcbi8vIFx0Y29uc3QgbmV3Q29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdF9fY29sb3JcIilcbi8vIFx0Y29uc3QgbWVtYmVyU2VsZWN0T3B0aW9ucyA9IG1lbWJlclNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKFwib3B0aW9uXCIpXG5cbi8vIFx0aWYgKCFuZXdNZW1iZXJOYW1lKSB7XG4vLyBcdFx0bmV3TmFtZUlucHV0LnBsYWNlaG9sZGVyID0gXCJQbGVhc2UgZW50ZXIgYSBuYW1lIGJlZm9yZSB5b3Ugc2F2ZVwiXG4vLyBcdFx0cmV0dXJuXG4vLyBcdH1cblxuLy8gXHQvLyBDaGVjayBpZiB0aGUgbWVtYmVyIG5hbWUgYWxyZWFkeSBleGlzdHNcbi8vIFx0Y29uc3QgZXhpc3RpbmdPcHRpb24gPSBBcnJheS5mcm9tKG1lbWJlclNlbGVjdE9wdGlvbnMpLmZpbmQoXG4vLyBcdFx0b3B0aW9uID0+IG9wdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBuZXdNZW1iZXJOYW1lLnRvTG93ZXJDYXNlKClcbi8vIFx0KVxuXG4vLyBcdGlmIChleGlzdGluZ09wdGlvbikge1xuLy8gXHRcdGFsZXJ0KGBNZW1iZXIgJHtuZXdNZW1iZXJOYW1lfSBhbHJlYWR5IGV4aXN0cy5gKVxuLy8gXHRcdHJldHVyblxuLy8gXHR9XG5cbi8vIFx0Ly8gQ2hlY2sgaWYgdGhlIHNlbGVjdGVkIGNvbG9yIGlzIGFscmVhZHkgdXNlZCBieSBhbm90aGVyIGZhbWlseSBtZW1iZXJcbi8vIFx0aWYgKCFjaGVja0NvbG9yQXZhaWxhYmlsaXR5KG5ld0NvbG9yU2VsZWN0LnZhbHVlKSkge1xuLy8gXHRcdGFsZXJ0KFxuLy8gXHRcdFx0YENvbG9yICR7bmV3Q29sb3JTZWxlY3QudmFsdWV9IGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgZmFtaWx5IG1lbWJlci5gXG4vLyBcdFx0KVxuLy8gXHRcdHJldHVyblxuLy8gXHR9XG5cbi8vIFx0Y29uc3QgbmV3TWVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG4vLyBcdG5ld01lbWJlci5jbGFzc0xpc3QuYWRkKFwibWVtYmVyXCIpXG5cbi8vIFx0Y29uc3QgbWVtYmVyQ29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4vLyBcdG1lbWJlckNvbG9yLmNsYXNzTGlzdC5hZGQoXCJtZW1iZXJfX2NvbG9yXCIpXG4vLyBcdGNvbnN0IHNlbGVjdGVkQ29sb3IgPSBuZXdDb2xvclNlbGVjdC52YWx1ZVxuLy8gXHRtZW1iZXJDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNcIiArIHNlbGVjdGVkQ29sb3JcblxuLy8gXHRjb25zdCBtZW1iZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbi8vIFx0bWVtYmVyTmFtZS5pbm5lckhUTUwgPSBuZXdNZW1iZXJOYW1lXG5cbi8vIFx0Y29uc3QgbWVtYmVySWQgPVxuLy8gXHRcdERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDUpXG4vLyBcdG5ld01lbWJlci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgbWVtYmVyLSR7bWVtYmVySWR9YClcblxuLy8gXHRjb25zdCBuZXdNZW1iZXJPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpXG4vLyBcdG5ld01lbWJlck9wdGlvbi52YWx1ZSA9IG5ld01lbWJlck5hbWVcbi8vIFx0bmV3TWVtYmVyT3B0aW9uLnRleHRDb250ZW50ID0gbmV3TWVtYmVyTmFtZVxuLy8gXHRuZXdNZW1iZXJPcHRpb24uZGF0YXNldC5jb2xvciA9IHNlbGVjdGVkQ29sb3Jcbi8vIFx0bWVtYmVyU2VsZWN0LmFwcGVuZENoaWxkKG5ld01lbWJlck9wdGlvbilcblxuLy8gXHRuZXdNZW1iZXIuYXBwZW5kQ2hpbGQobWVtYmVyQ29sb3IpXG4vLyBcdG5ld01lbWJlci5hcHBlbmRDaGlsZChtZW1iZXJOYW1lKVxuLy8gXHRtZW1iZXJzTGlzdC5hcHBlbmRDaGlsZChuZXdNZW1iZXIpXG4vLyBcdG5ld01lbWJlck9wdGlvbi5kYXRhc2V0LmNvbG9yID0gc2VsZWN0ZWRDb2xvclxuXG4vLyBcdGNsZWFySW5wdXRzKClcbi8vIFx0Y2xvc2VXaW5kb3coKVxuLy8gfVxuY29uc3Qgc2F2ZU5ld01lbWJlciA9ICgpID0+IHtcblx0Y29uc3QgbmV3TWVtYmVyTmFtZSA9IG5ld05hbWVJbnB1dC52YWx1ZS50cmltKClcblx0Y29uc3QgbWVtYmVyc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbWJlcnNfX2xpc3RcIilcblx0Y29uc3QgbmV3Q29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdF9fY29sb3JcIilcblx0Y29uc3QgbWVtYmVyU2VsZWN0T3B0aW9ucyA9IG1lbWJlclNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKFwib3B0aW9uXCIpXG5cblx0aWYgKCFuZXdNZW1iZXJOYW1lKSB7XG5cdFx0bmV3TmFtZUlucHV0LnBsYWNlaG9sZGVyID0gXCJQbGVhc2UgZW50ZXIgYSBuYW1lIGJlZm9yZSB5b3Ugc2F2ZVwiXG5cdFx0cmV0dXJuXG5cdH1cblxuXHQvLyBzcHJhd2TFuiwgY3p5IGlzdG5pZWplIGp1xbwgb3BjamEgeiBkYW55bSBpbWllbmllbVxuXHRjb25zdCBleGlzdGluZ09wdGlvbiA9IEFycmF5LmZyb20obWVtYmVyU2VsZWN0T3B0aW9ucykuZmluZChcblx0XHRvcHRpb24gPT4gb3B0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IG5ld01lbWJlck5hbWUudG9Mb3dlckNhc2UoKVxuXHQpXG5cblx0aWYgKGV4aXN0aW5nT3B0aW9uKSB7XG5cdFx0YWxlcnQoYE1lbWJlciAke25ld01lbWJlck5hbWV9IGFscmVhZHkgZXhpc3RzLmApXG5cdFx0cmV0dXJuXG5cdH1cblxuXHQvLyBzcHJhd2TFuiwgY3p5IHd5YnJhbnkga29sb3IgamVzdCBqdcW8IHXFvHl3YW55IHByemV6IGlubmVnbyBjesWCb25rYSByb2R6aW55XG5cdGNvbnN0IHNlbGVjdGVkQ29sb3IgPSBuZXdDb2xvclNlbGVjdC52YWx1ZS50b0xvd2VyQ2FzZSgpXG5cdGNvbnN0IG1lbWJlckNvbG9ycyA9IEFycmF5LmZyb20oXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW1iZXJfX2NvbG9yXCIpXG5cdCkubWFwKGNvbG9yID0+IGNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvci5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSlcblx0aWYgKCFjaGVja0NvbG9yQXZhaWxhYmlsaXR5KHNlbGVjdGVkQ29sb3IpKSB7XG5cdFx0YWxlcnQoYENvbG9yICR7c2VsZWN0ZWRDb2xvcn0gaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBmYW1pbHkgbWVtYmVyLmApXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRjb25zdCBuZXdNZW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIilcblx0bmV3TWVtYmVyLmNsYXNzTGlzdC5hZGQoXCJtZW1iZXJcIilcblxuXHRjb25zdCBtZW1iZXJDb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcblx0bWVtYmVyQ29sb3IuY2xhc3NMaXN0LmFkZChcIm1lbWJlcl9fY29sb3JcIilcblx0bWVtYmVyQ29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjXCIgKyBzZWxlY3RlZENvbG9yXG5cblx0Y29uc3QgbWVtYmVyTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXG5cdG1lbWJlck5hbWUuaW5uZXJIVE1MID0gbmV3TWVtYmVyTmFtZVxuXG5cdGNvbnN0IG1lbWJlcklkID1cblx0XHREYXRlLm5vdygpLnRvU3RyaW5nKDM2KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KVxuXHRuZXdNZW1iZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgYG1lbWJlci0ke21lbWJlcklkfWApXG5cblx0Y29uc3QgbmV3TWVtYmVyT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuXHRuZXdNZW1iZXJPcHRpb24udmFsdWUgPSBuZXdNZW1iZXJOYW1lXG5cdG5ld01lbWJlck9wdGlvbi50ZXh0Q29udGVudCA9IG5ld01lbWJlck5hbWVcblx0bmV3TWVtYmVyT3B0aW9uLmRhdGFzZXQuY29sb3IgPSBzZWxlY3RlZENvbG9yXG5cdG1lbWJlclNlbGVjdC5hcHBlbmRDaGlsZChuZXdNZW1iZXJPcHRpb24pXG5cblx0bmV3TWVtYmVyLmFwcGVuZENoaWxkKG1lbWJlckNvbG9yKVxuXHRuZXdNZW1iZXIuYXBwZW5kQ2hpbGQobWVtYmVyTmFtZSlcblx0bWVtYmVyc0xpc3QuYXBwZW5kQ2hpbGQobmV3TWVtYmVyKVxuXG5cdC8vIERvZGFqZW15IGF0cnlidXQgJ2Rpc2FibGVkJyBkbyBvcGNqaSB3eWJvcnUga29sb3J1IGRsYSB3eWJyYW5lZ28gY3rFgm9ua2Egcm9kemlueVxuXHRuZXdDb2xvclNlbGVjdFxuXHRcdC5xdWVyeVNlbGVjdG9yKGBvcHRpb25bdmFsdWU9JyR7c2VsZWN0ZWRDb2xvcn0nXWApXG5cdFx0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpXG5cblx0Y2xlYXJJbnB1dHMoKVxuXHRjbG9zZVdpbmRvdygpXG59XG5cbmNvbnN0IHNhdmVUYXNrID0gKCkgPT4ge1xuXHRjcmVhdGVOZXdUYXNrKClcblx0Y2xlYXJJbnB1dHMoKVxuXHRjbG9zZVdpbmRvdygpXG59XG5cbmFkZFRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dUYXNrQ3JlYXRvcilcbmNhbmNlbE5ld1Rhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlV2luZG93KVxuc2F2ZU5ld1Rhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNhdmVUYXNrKVxuXG5hZGRNZW1iZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dNZW1iZXJDcmVhdG9yKVxuY2FuY2VsTWVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVdpbmRvdylcbnNhdmVNZW1iZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNhdmVOZXdNZW1iZXIpXG4iXX0=
